# WebVTTフォーマットの技術的特徴

## 概要
WebVTT（Web Video Text Tracks）は、動画や音声コンテンツに字幕・キャプション・チャプター情報などのテキストトラックを付与するためのテキストベースのフォーマットである。主にHTML5の`<track>`タグと連携し、YouTubeやTeamsなど多くのプラットフォームで利用されている。

## 技術的特徴
- **テキストベース・UTF-8**：拡張子は`.vtt`。先頭に`WEBVTT`シグネチャが必須。
- **タイムスタンプ**：`hh:mm:ss.mmm --> hh:mm:ss.mmm`形式で、ミリ秒まで指定可能。
- **字幕キュー**：各キューはタイムスタンプ＋テキストで構成。IDやスタイル、位置指定などのメタ情報も付与可能。
- **拡張性**：チャプター、コメント、音声説明など多様な用途に対応。
- **OSSツール**：Pythonの`webvtt-py`などでパース・変換が容易。

## TeamsのWebVTT独自拡張：代表的な例と標準仕様との違い

### 1. 話者名（Speaker）記法の独自拡張
- **標準WebVTT**：<v>タグで話者名を明示（例：<v 山田>発言内容</v>）。
- **Teams独自例**：<v>タグ内にメールアドレスやTeamsアカウントIDが含まれる、または話者名が省略・短縮される場合がある。
- **注意点**：他ツールで話者分離がうまくいかない、または話者名が冗長・匿名化されることがある。

### 2. メタデータ・カスタムフィールドの付与
- **標準WebVTT**：NOTEやSTYLEなど一部のメタ情報のみサポート。
- **Teams独自例**：キューごとに独自のメタデータ（例：X-Timestamp、X-UserId等）がコメント行やカスタムフィールドとして挿入されることがある。
- **注意点**：標準パーサーで無視される、またはエラーとなる場合がある。

### 3. タイムスタンプ・キューの表記揺れ
- **標準WebVTT**：hh:mm:ss.mmm --> hh:mm:ss.mmm 形式。
- **Teams独自例**：ミリ秒部分の桁数が異なる、またはタイムスタンプの区切り記号が微妙に異なる場合がある。
- **注意点**：一部ツールで正しく読み込めないことがある。

### 4. その他の独自フィールド・コメント
- **標準WebVTT**：NOTE行や空行のみ。
- **Teams独自例**：ファイル先頭や各キュー間に独自のコメントや識別子が挿入されることがある。
- **注意点**：自動変換・解析時にノイズとなる場合がある。

---

#### Zettelkasten的整理ポイント
- これらの違いを把握し、Teams vtt→Markdown変換時は「話者名の正規化」「不要メタデータの除去」などの前処理を推奨。
- 変換スクリプトやOSSツールのカスタマイズ例もノート化・リンク推奨。

---

## 反証・異論となる視点
- SRT等の他フォーマットと比べて多機能だが、プレイヤーやツールによっては互換性に課題が残る。
- Teams等の独自拡張や表記揺れがあり、他ツールとの連携時は注意が必要。
- 自動変換は誤認識や話者分離ミスが起こりやすく、必ず人手でレビュー・修正を行うことが推奨される。

## Zettelkasten的活用・リンク案
- [[Teams_vttからの議事録再生]]（実践例・ワークフロー・OSSツール紹介）
- [[WebVTT_フォーマットの技術的特徴]]（標準仕様との比較・技術解説）

## タグ
#webvtt #字幕 #フォーマット #技術解説 #議事録

[//begin]: # "Autogenerated link references for markdown compatibility"
[Teams_vttからの議事録再生]: Teams_vtt%E3%81%8B%E3%82%89%E3%81%AE%E8%AD%B0%E4%BA%8B%E9%8C%B2%E5%86%8D%E7%94%9F.md "Teams会議のトランスクリプト（vtt）から議事録を再生する方法"
[WebVTT_フォーマットの技術的特徴]: WebVTT_%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%83%E3%83%88%E3%81%AE%E6%8A%80%E8%A1%93%E7%9A%84%E7%89%B9%E5%BE%B4.md "WebVTTフォーマットの技術的特徴とZettelkasten活用"
[//end]: # "Autogenerated link references"
