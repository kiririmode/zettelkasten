# Claude Codeに必要なネットワーク要件まとめ

Claude Codeを利用する際には、以下のネットワーク要件を満たす必要があります。これは、セキュリティや機能面での安定運用のために重要です。

## 1. 必須の外部アクセス先

Claude Codeは、以下の外部サービスへのネットワークアクセスが必要です。

- `api.anthropic.com`  
  Claude CodeのAPI通信に利用されます。
- `statsig.anthropic.com`  
  利用状況のモニタリングや統計情報の送信に利用されます。
- `sentry.io`  
  エラー監視や障害報告のために利用されます。

これらのドメインは、ファイアウォールやプロキシのホワイトリストに必ず追加してください。

## 2. コンテナ環境での注意点

- Claude Codeをコンテナ化された環境（例：VS Code Remote - Containers）で利用する場合も、上記3ドメインへの送信接続が許可されている必要があります。
- devcontainer構成例では、これらのドメインのみを許可し、他の外部ネットワークアクセスはデフォルトでブロックする設計が推奨されています。

## 3. セキュリティ設計のポイント

- ホワイトリスト方式で必要なドメインのみ通信を許可し、それ以外は遮断する「デフォルト拒否」ポリシーが推奨されています。
- 起動時にファイアウォールルールの検証を行い、意図しない外部通信が発生しないようにします。

---

### 参考：devcontainer構成の主なネットワーク設定

- `devcontainer.json`で拡張機能やボリュームマウントを制御
- `init-firewall.sh`でネットワークセキュリティルールを確立
- Dockerfileで必要なツール・依存関係をインストール

---

## まとめ

Claude Codeの安定・安全な運用には、  
「api.anthropic.com」「statsig.anthropic.com」「sentry.io」  
の3ドメインへのネットワークアクセスが必須です。  
特に企業やチームでの利用時は、ファイアウォールやプロキシ設定を見直し、不要な外部通信を遮断することでセキュリティを高めましょう。

## 関連ノート・リンク
- [[CLAUDE.mdの書き方まとめ]]

#claude #ネットワーク要件 #セキュリティ #devcontainer
