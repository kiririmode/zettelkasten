# Context7 MCPサーバとは何か

## 定義・概要
Context7 MCPサーバは、LLMやAIコードエディタ向けに「最新・バージョン別のコードドキュメントやサンプル」を返却するMCP（Model Context Protocol）サーバです。従来のLLMが抱える「古い情報・幻のAPI・汎用的な回答」といった問題を解決するため、実際のライブラリやフレームワークの最新ドキュメント・コード例をリアルタイムで取得し、プロンプトに直接挿入できる仕組みを提供します。

## バージョン情報の指定方法
Context7 MCPサーバでは、ドキュメントやコード例をリクエストする際に「どのバージョンの情報を取得するか」を明示的に指定できます。

- 明示的にバージョンを指定したい場合、`get-library-docs` などのAPIリクエストのパラメータ（通常は `version` フィールド）で指定します。
- 例：
  ```json
  {
    "tool": "get-library-docs",
    "params": {
      "library": "react-query",
      "version": "4.36.0",
      "topic": "invalidateQuery"
    }
  }
  ```
- バージョンを指定しない場合は、Context7側で自動的に「最新バージョン」のドキュメントやサンプルが返却されます。
- ライブラリ名の曖昧さを避けるため、`resolve-library-id` で内部IDを解決することもあります。

この設計により、常に「必要なバージョンの正確な情報」を取得でき、バージョン違いによる誤解やバグを防ぐことができます。

## 返却される情報の全体像
Context7 MCPサーバは、単なるサンプルコード返却サーバではありません。以下のような多様な情報を、AIアシスタントやエディタに対して返却します。

### 1. 公式ドキュメント本文
- 指定したライブラリやフレームワークの「バージョン別・最新」の公式ドキュメント（説明文、APIリファレンス、使い方解説など）
- 特定トピック（例: "routing", "hooks"）に絞ったドキュメント抽出も可能

### 2. コード例・スニペット
- 実際に動作する、指定バージョンに即したサンプルコードや使用例
- APIの使い方やベストプラクティスを示す具体的なコード

### 3. ライブラリ・プロジェクトのメタデータ
- 機能概要、特徴、GitHubスター数や信頼スコアなどのメタ情報
- プロジェクト全体の概要や検索用の情報

### 4. ライブラリ発見・検索ツール
- ライブラリの検索や、ランキング上位のライブラリ一覧なども取得可能
- `resolve-library-id`や`get-library-docs`などのAPIで柔軟に情報取得

#### 返却情報のまとめ表
| 種類                       | 内容例                                             |
|----------------------------|----------------------------------------------------|
| ドキュメント（テキスト）   | 公式ドキュメント本文、APIリファレンス、解説         |
| コード例・スニペット        | バージョン対応のサンプルコード、使用例               |
| メタデータ                  | 機能概要、スター数、信頼スコア、プロジェクト情報     |
| 検索・発見ツール            | ライブラリ検索、ランキング、関連プロジェクト一覧     |

## 使い方の流れ
1. プロンプトで「use context7」と明示するだけで、LLMがContext7 MCPサーバを利用し、最新のドキュメントやサンプルを自動でプロンプトに組み込む
2. これにより、タブ切り替えや古いAPIの誤回答を防ぎ、即座に正確なコード生成が可能

## 批判的視点・反論
- ドキュメントはコミュニティベースで追加・更新されるため、内容の正確性や網羅性は保証されない場合がある
- セキュリティや完全性については自己責任で利用する必要がある
- 一部のマイナーライブラリや独自拡張は未対応の場合がある

## 関連ノート・リンク
- [[VS_Code_githubRepo機能_GitHub統合とAI連携の実践ガイド]]
- [[Claude_Code_GitHub_Actions_技術とユースケース]]
- [[MCPサーバ_Resource_Prompt_Tool.md]]

#llm #mcp #vibecoding
