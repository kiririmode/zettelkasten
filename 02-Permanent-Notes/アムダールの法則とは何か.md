# アムダールの法則とは何か

## 概要
アムダールの法則（Amdahl's Law）は、コンピュータシステムの並列化による性能向上の限界を示す経験則です。1967年にジーン・アムダールによって提唱され、特にマルチプロセッサやマルチコア環境でのスケーラビリティ評価に広く用いられています。

## 法則の内容
- 全体の処理のうち、並列化できる部分の割合を p、直列でしか実行できない部分を $1-p$ とする。
- プロセッサ数を $N$ としたとき、理論上の最大スピードアップ（高速化率）は次式で表される：

  $$\text{Speedup} = \frac{1}{(1-p) + \frac{p}{N}}$$

- 並列化できない部分が存在する限り、プロセッサ数をいくら増やしても性能向上には限界がある。

## 数式の導出
アムダールの法則の数式は、以下のような論理で導かれます。

1. **問題設定**
   - 全体の処理時間を「1」と正規化して考える。
   - 並列化できる部分の割合を $p$、直列でしか実行できない部分を $1-p$ とする。

2. **並列化前の実行時間**
   - プロセッサが1台の場合、全体の実行時間は $1$。

3. **並列化後の実行時間**
   - 直列部分（$1-p$）はプロセッサ数に関係なく $1-p$ のまま。
   - 並列部分（$p$）は $N$ 台のプロセッサで分担できるので、理想的には $p/N$ まで短縮される。

4. **合計実行時間**
   - 並列化後の合計実行時間は $T(N) = (1-p) + \frac{p}{N}$。

5. **スピードアップ（高速化率）の定義**
   - スピードアップは「並列化前の実行時間 ÷ 並列化後の実行時間」で定義される。
   - よって、

     $$
     \text{Speedup} = \frac{1}{(1-p) + \frac{p}{N}}
     $$

---

### 補足・批判的視点
- この導出は「理想的な並列化（オーバーヘッドなし）」を仮定している。実際には通信や同期のコストが加わるため、現実のスピードアップはさらに小さくなる。
- 問題サイズが固定されている前提であり、プロセッサ数が増えると問題サイズも増やせる場合（弱スケーリング）はガストの法則がより適切。

## 具体例
例えば、80%が並列化可能な処理（p=0.8）を4つのプロセッサで実行した場合：

  $$\text{Speedup} = \frac{1}{(0.2 + 0.8/4)} = 2.5$$

直列部分（20%）がボトルネックとなり、最大でも5倍（1/0.2）までしか速くならない。

## 批判的視点・反証
- アムダールの法則は「問題サイズが固定」の場合に適用される。実際にはプロセッサ数が増えればより大きな問題を解くことも多く、この場合はガストの法則（Gustafson's Law）が現実的な指標となる。
- 並列化のオーバーヘッド（通信・同期コスト）は式に含まれていない。実際にはオーバーヘッドが増大し、理論値よりスピードアップは小さくなる。

## 関連ノート・リンク案
- [[並列計算の限界とガストの法則]]（未作成の場合、作成を推奨）
- [[プロセッサ数とスケーラビリティの関係]]
- [[分散処理におけるオーバーヘッド]]

## タグ
#アムダールの法則 #並列計算 #計算機アーキテクチャ #スケーラビリティ #批判的思考
