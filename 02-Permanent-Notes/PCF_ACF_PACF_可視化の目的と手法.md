# PCF/ACF（自己相関関数）・PACF（偏自己相関関数）を可視化する目的と手法

## 概要
PCF（自己相関関数, ACF）およびPACF（偏自己相関関数）は、時系列データの自己相関構造を把握するための基本的な統計ツールです。これらを可視化することで、データの定常性やモデル構造（AR, MA成分の次数）を直感的に理解し、適切な時系列モデル（ARIMA, SARIMA等）の選定やパラメータ設定に役立てることができます。

## 可視化の目的
### 1. モデルパラメータ選定の根拠を明確にする
- ACF/PACFのグラフから、AR（自己回帰）やMA（移動平均）成分の次数（p, q）を推定できる。
- 例：ACFが急減衰しPACFが特定ラグでカットオフ→ARモデルが適切、など。

### 2. データの定常性や季節性の有無を直感的に把握する
- ACF/PACFのパターンから、トレンドや季節性、非定常性の有無を視覚的に判断できる。
- 周期的なピーク→季節性、緩やかな減衰→非定常性の疑い。

### 3. モデル適合後の残差評価
- 残差のACF/PACFを可視化し、白色雑音（自己相関がない）かどうかを確認。
- 自己相関が残る場合はモデルの再検討が必要。

### 4. 分析プロセスの説明責任・再現性担保
- 可視化は、なぜそのモデル構造を選んだかの客観的証拠となり、第三者への説明や再現性の確保に有用。

## 可視化の手法
- Python（statsmodels, pandas, matplotlib等）やR（acf, pacf関数）で簡単にグラフ化可能。
- 例：PythonでのACF/PACF可視化
```python
from statsmodels.graphics.tsaplots import plot_acf, plot_pacf
import matplotlib.pyplot as plt
plot_acf(series, lags=40)
plot_pacf(series, lags=40)
plt.show()
```
- グラフの解釈には主観が入るため、統計的検定（ADF検定等）と併用するのが望ましい。

## 反証的視点・注意点
- データ量が少ない場合や外れ値が多い場合、ACF/PACFのパターンが誤解を招くことがある。
- 非線形性や複雑な構造を持つデータでは、ACF/PACFだけでは十分な情報が得られない場合も。

## 関連・リンク推奨
- [SARIMAによる時系列異常検知の基礎](SARIMAによる時系列異常検知の基礎)
- [定常性とは何か_その判定方法](定常性とは何か_その判定方法)
- [ADF検定とは何か_その考え方](ADF検定とは何か_その考え方)

## タグ
#時系列解析 #acf #pacf #可視化 #モデル選択 #定常性 #統計モデル
